/*************************************************************************************************

Welcome to Baml! To use this generated code, please run one of the following:

$ npm install @boundaryml/baml
$ yarn add @boundaryml/baml
$ pnpm add @boundaryml/baml

*************************************************************************************************/

// This file was generated by BAML: please do not edit it. Instead, edit the
// BAML files and re-generate this code using: baml-cli generate
// You can install baml-cli with:
//  $ npm install @boundaryml/baml
//
/* eslint-disable */
// tslint:disable
// @ts-nocheck
// biome-ignore format: autogenerated code

const fileMap = {
  
  "HyDE.baml": "class HyDE_rewrite_query {\n  HyDE_answer string\n}\n\n\nfunction HyDE_rewrite(query:string, language: string ) -> HyDE_rewrite_query {\n    client \"QWen3\"\n    prompt #\"\n    {{_.role('system')}}\n    You are a helpful medical assistant that answer the given query .\n\n    {{_.role('user')}}\n    ---instruction---\n    1. Answer the question in a comprehensive manner.\n    2. Organize the content as a reference document.\n    ---query---\n    {{ query }}\n    ---answer---\n    {{ ctx.output_format }}\n    \"#\n}\n\ntest TestHyDE_rewrite {\n  functions [HyDE_rewrite]\n  args {\n    query #\"\n      高血压的治疗措施有哪些？\n    \"#\n    language #\"\n      中文\n    \"#\n  }\n}\n",
  "agent.baml": "// Agent Tool Calling System\n// This file defines the complete agent tool calling architecture\n\n// Tool definitions\nclass ToolList {\n    tools ToolDefinition[]\n}\n\nclass ToolDefinition {\n    name string\n    description string\n    parameters ToolParameter[]\n    required_parameters string[]\n}\n\nclass ToolParameter {\n    name string\n    type string\n    description string\n    required bool\n}\n\n// Available tools\nclass Textbook_semantic_search_tool {\n    search_content string\n    max_results int @description(\"Maximum number of results to return, default 5\")\n    subject_filter string[] @description(\"Optional subject filters\")\n}\n\nclass Quiz_retrieval_tool {\n    query string\n    difficulty_level string[] @description(\"Easy, Medium, Hard\")\n    subject string[] @description(\"Subject filters\")\n    limit int @description(#\"\n        default 10\n    \"#)\n}\n\nclass Knowledge_extraction_tool {\n    content string\n    extract_type string @description(\"concepts, definitions, relationships\")\n    format string @description(#\"\n       structured \n    \"#)\n}\n\nclass StepResponse {\n    is_final_step bool\n    response string\n    tool ToolCall?\n    reasoning string @description(\"Agent's reasoning for this step\")\n}\n\nclass ToolCall {\n    tool_name string\n    parameters map<string, ToolParameter>\n    id string @description(\"Unique identifier for this tool call\")\n}\n\n// Agent decision making\nclass AgentDecision {\n    should_use_tool bool\n    selected_tool string?\n    reasoning string\n    confidence float @description(\"Confidence score 0-1\")\n}\n\n// Agent state management\nclass AgentState {\n    conversation_history Message[]\n    available_tools ToolDefinition[]\n    current_context string\n    step_count int \n    max_steps int \n}\n\nclass Message {\n    role string @description(\"user, assistant, system, tool\")\n    content string\n    timestamp string\n    tool_calls ToolCall[]?\n    tool_results ToolResult[]?\n}\n\nclass ToolResult {\n    tool_id string\n    result string\n    success bool\n    error_message string?\n}\n\n// Main agent functions\nfunction AgentDecideNextAction(\n    user_query: string,\n    conversation_history: Message[],\n    available_tools: ToolDefinition[],\n    current_context: string\n) -> AgentDecision {\n    client \"GLM4Plus\"\n    prompt #\"\n        {{_.role(\"system\")}}\n        You are an intelligent agent that can use tools to help users with medical education queries.\n        \n        Your responsibilities:\n        1. Analyze the user's query carefully\n        2. Decide whether you need to use a tool to provide accurate information\n        3. Select the most appropriate tool based on the query context\n        4. Provide clear reasoning for your decision\n        \n        Available tools:\n        {% for tool in available_tools %}\n        - {{tool.name}}: {{tool.description}}\n          Parameters: {% for param in tool.parameters %}{{param.name}} ({{param.type}}): {{param.description}}{% if not loop.last %}, {% endif %}{% endfor %}\n        {% endfor %}\n        \n        Current context: {{current_context}}\n        \n        {{_.role(\"user\")}}\n        User query: {{user_query}}\n        \n        Conversation history:\n        {% for msg in conversation_history %}\n        {{msg.role}}: {{msg.content}}\n        {% endfor %}\n        \n        Analyze the query and decide:\n        1. Do you need to use a tool to answer this accurately?\n        2. If yes, which tool is most appropriate?\n        3. What's your reasoning?\n        \n        {{ctx.output_format}}\n    \"#\n}\n\nfunction ExecuteToolCall(\n    tool_name: string,\n    parameters: map<string, ToolParameter>,\n    tool_definitions: ToolDefinition[]\n) -> ToolResult {\n    client \"GLM4Plus\"\n    prompt #\"\n        {{_.role(\"system\")}}\n        You are a tool execution engine. Validate and execute the requested tool call.\n        \n        Tool: {{tool_name}}\n        Parameters: {{parameters}}\n        \n        {% for tool in tool_definitions %}\n        {% if tool.name == tool_name %}\n        Required parameters: {{tool.required_parameters}}\n        {% endif %}\n        {% endfor %}\n        \n        Validate the parameters and simulate the tool execution.\n        Return the result in the specified format.\n        \n        {{ctx.output_format}}\n    \"#\n}\n\nfunction GenerateAgentResponse(\n    user_query: string,\n    tool_results: ToolResult[],\n    conversation_history: Message[]\n) -> StepResponse {\n    client \"GLM4Plus\"\n    prompt #\"\n        {{_.role(\"system\")}}\n        You are a medical education assistant. Generate a helpful response based on the tool results and conversation history.\n        \n        Guidelines:\n        1. Be accurate and informative\n        2. Use the tool results to provide specific, relevant information\n        3. Maintain a helpful, educational tone\n        4. If this fully answers the user's query, mark is_final_step as true\n        5. If more steps are needed, mark is_final_step as false and explain what you'll do next\n        \n        Tool Results:\n        {% for result in tool_results %}\n        - Tool ID: {{result.tool_id}}\n          Success: {{result.success}}\n          {% if result.success %}\n          Result: {{result.result}}\n          {% else %}\n          Error: {{result.error_message}}\n          {% endif %}\n        {% endfor %}\n        \n        Conversation History:\n        {% for msg in conversation_history %}\n        {{msg.role}}: {{msg.content}}\n        {% endfor %}\n        \n        User Query: {{user_query}}\n        \n        Generate your response according to the guidelines.\n        \n        {{ctx.output_format}}\n    \"#\n}\n\nfunction FinalizeAgentResponse(\n    conversation_history: Message[],\n    accumulated_information: string\n) -> StepResponse {\n    client \"GLM4Plus\"\n    prompt #\"\n        {{_.role(\"system\")}}\n        You are a medical education assistant. Synthesize all the information gathered through tool calls and provide a comprehensive final response.\n        \n        Guidelines:\n        1. Review all the information gathered in previous steps\n        2. Provide a comprehensive, well-structured response\n        3. Address the original user query completely\n        4. Ensure all information is accurate and relevant\n        5. Format the response clearly with appropriate sections if needed\n        \n        Accumulated Information:\n        {{accumulated_information}}\n        \n        Conversation History:\n        {% for msg in conversation_history %}\n        {{msg.role}}: {{msg.content}}\n        {% endfor %}\n        \n        Provide your final comprehensive response.\n        \n        {{ctx.output_format}}\n    \"#\n}\n\n",
  "anti_memorization_quiz.baml": "function GenerateAntiMemorizationQuiz(origin_quiz:string, related_chunks: string[], similar_quizes: string[]) -> MutatedQuiz {\n    client \"GLM4Flash\"\n    prompt #\"\n    {{_.role('system')}}\n    你是一个有用的医学教育助手，能够根据提供的参考文档将给定的测验转换为反记忆化问题。目标是使问题需要更深层次的理解，而不是死记硬背。\n\n    ---instruction---\n    测验是一个有4~5个选项的单项/多项选择题。\n    你必须严格遵守以下规则：\n    1.  **问题转换**：重新表述原始问题，使其需要概念性理解。避免直接回忆原始问题或选项中存在的事实。\n    2.  **选项调整**：\n        -   对于错误选项：根据 `related_chunks` 将其修改为合理的干扰项，但仍保持错误。它们应该测试细微的理解。\n        -   对于正确选项：如有必要，重新表述以适应新问题，但要确保其含义正确且得到 `related_chunks` 的支持。\n    3.  **参考遵循**：对问题和选项的所有修改必须严格基于 `related_chunks`。不要引入文档中不存在的新信息。\n    4.  **避免重复**：确保转换后的测验与 `origin_quiz` 和 `similar_quizes` 有显著不同，以防止简单的记忆。\n    5.  **解释**：为新测验提供简洁的解释，详细说明为什么正确答案是正确的，为什么其他选项是错误的，并在适当的地方引用 `related_chunks`。\n\n    ---step---\n    1. 分析 `origin_quiz`、`related_chunks` 和 `similar_quizes`。\n    2. 转换问题以测试概念性理解。\n    3. 调整选项，使其成为合理的干扰项或重新表述的正确答案，严格基于 `related_chunks`。\n    4. 为新测验生成全面的解释。\n\n    {{_.role('user')}}\n\n    ---origin_quiz---\n    {{origin_quiz}}\n    \n    ---related_chunks---\n    {% for chunk in related_chunks %}\n    {{ loop.index }}. {{ chunk }}\n    {% endfor %}\n\n    ---similar_quizes---\n    {% for quiz in similar_quizes %}\n    ## 相似测验 {{ loop.index }}\n    {{ quiz }}\n    {% endfor %}\n\n    ---output---\n    {{ctx.output_format}}\n    \"#\n}",
  "clients.baml": "client<llm> Hunyuanlite {\n  provider openai-generic\n  options {\n    model \"hunyuan-lite\"\n    api_key env.CHATMODAL_API_KEY\n    base_url \"https://api.zhizengzeng.com/v1\"\n  }\n}\n\nclient<llm> GLM4Flash {\n  provider openai-generic\n  options {\n    model \"glm-4-flash\"\n    api_key env.GLM_API_KEY\n    base_url \"https://open.bigmodel.cn/api/paas/v4\"\n  }\n}\n\nclient<llm> DeepseekV3 {\n  provider  openai-generic\n  options {\n    model \"\"\n    api_key \"\"\n    base_url \"\"\n  }\n}\n\nclient<llm> QiniuDeepseekV3 {\n  provider openai-generic\n  options {\n    model \"deepseek-v3\"\n    api_key env.QINIU_DEEPSEEK_FREE_API_KEY\n    base_url \"https://api.qnaigc.com/v1\"\n  }\n}\n\nclient<llm> OpenrouterQWEN3 {\n  provider openai-generic\n  options {\n    model \"qwen/qwen3-235b-a22b\"\n    api_key env.OPENROUTER_API_KEY\n    base_url \"https://openrouter.ai/api/v1\"\n  }\n}\n\nclient<llm> QWen3Reasoning {\n  provider openai-generic\n  options {\n    model \"qwen-plus-latest\"\n    api_key env.ALIBABA_API_KEY\n    base_url \"https://dashscope.aliyuncs.com/compatible-mode/v1/\"\n    enable_thinking true\n  }\n}\n\nclient<llm> QWen3 {\n  provider openai-generic\n  options {\n    model \"qwen-plus-latest\"\n    api_key env.ALIBABA_API_KEY\n    base_url \"https://dashscope.aliyuncs.com/compatible-mode/v1/\"\n    enable_thinking false\n  }\n}\n\nclient<llm> GLM4Plus {\n  provider openai-generic\n  options {\n    model \"glm-4-plus\"\n    api_key env.GLM_API_KEY\n    base_url \"https://open.bigmodel.cn/api/paas/v4\"\n    retry_policy GLMRetry\n  }\n}\n\n\nclient<llm> Tts_1 {\n  provider openai-generic\n  options {\n    model \"tts-1\"\n    api_key env.SHENMA_API_KEY\n    base_url \"https://api.whatai.cc/v1/\"\n    retry_policy GLMRetry\n  }\n}",
  "entities_extraction.baml": "class Entity {\n    name string\n    description string\n    type string\n}\n\nfunction ExtractMainEntity(chunk_text:string, entity_type: string[]) -> Entity[] {\n  client \"GLM4Flash\"\n  prompt #\"\n  {{_.role('user')}}\n\n  ---role---\n  You are a helpful assistant that extracts entities and relations from a given text.\n\n  ---instruction---\n  Given a piece of text, extract the main entity and its attributes. The main entity is usually a disease or a medical condition. The attributes include:\n\n  ---parameters---\n  - name: The name of the entity.\n  - description: A brief description of the entity.\n  - type: The type of the entity, It must be one of the following\n    {{entity_type}}\n  \n  ---example---\n  ###example_input###\n  乳腺囊性增生病（breast cystic hyperplasia）亦称乳腺病、乳腺小叶增生症、乳腺结构不良症、纤维囊性病，常见于中年女性。其病理形态表现多样，增生可发生于腺管周围并伴有大小不等的囊肿形成，囊内含淡黄色或棕褐色液体；或腺管内表现为不同程度的乳头状增生，伴乳管囊性扩张；也有发生于小叶实质者，主要为乳管及腺泡上皮增生。\n  \n  ###example_output###\n  [\n    {\n      name: \"乳腺囊性增生病\"\n      description: \"乳腺囊性增生病（breast cystic hyperplasia）亦称乳腺病、乳腺小叶增生症、乳腺结构不良症、纤维囊性病，常见于中年女性。其病理形态表现多样，增生可发生于腺管周围并伴有大小不等的囊肿形成，囊内含淡黄色或棕褐色液体；或腺管内表现为不同程度的乳头状增生，伴乳管囊性扩张；也有发生于小叶实质者，主要为乳管及腺泡上皮增生。\"\n      type: \"disease\"\n    },\n    {\n      name: \"中年女性\"\n      description: \"中年女性是一种人群，容易发生乳腺囊性增生病。\"\n      type: \"population\"\n    }\n  ]\n\n  ---input---\n  {{ chunk_text }}\n  ---output---\n  {{ ctx.output_format }}\n  \"#\n}\n\ntest TestExtractMainEntity {\n  functions [ExtractMainEntity]\n  args {\n    chunk_text #\"\n      急性肾盂肾炎（acute pyelonephritis） 可累及单侧或双侧肾脏。表现为局限或广泛肾盂肾盏黏膜充血、水肿，表面有脓性分泌物，黏膜下可有细小脓肿，可见大小不一、尖端指向肾乳头的楔形炎症病灶。病灶内有不同程度的肾小管上皮细胞肿胀、坏死、脱落，肾小管管腔内有白细胞管型。肾间质水肿，有中性粒细胞浸润和小脓肿形成。炎症剧烈时可有广泛性出血，较大的炎症病灶愈合后局部形成瘢痕。肾小球一般无形态学改变。\n    \"#\n    entity_type [\"disease\", \"symptom\",\"body_part\",\"organ\",\"tissue\",\"cell\", \"pathology_change\",\"medicine\",\"treatment\",\"surgery\", \"population\", \"examination\",\"diagnosis\",\"etiology\",\"risk_factor\",\"prognosis\",\"complication\",\"differential_diagnosis\",\"prevention\"]\n  }\n}\n",
  "essay_grading.baml": "class EssayGrade {\n  overall_score float @description(\"Overall score from 0-100\")\n  criteria_scores CriteriaScore[]\n  detailed_feedback string\n  grammar_corrections GrammarCorrection[]\n  vocabulary_suggestions VocabularySuggestion[]\n  structure_analysis StructureAnalysis\n  improvement_suggestions string[]\n}\n\nclass CriteriaScore {\n  criteria_name string\n  score float @description(\"Score for this criteria from 0-100\")\n  feedback string\n  max_score float\n}\n\nclass GrammarCorrection {\n  original_text string\n  corrected_text string\n  explanation string\n  position_start int\n  position_end int\n}\n\nclass VocabularySuggestion {\n  original_word string\n  suggested_word string\n  explanation string\n  position_start int\n  position_end int\n}\n\nclass StructureAnalysis {\n  introduction_score float\n  body_paragraphs_score float\n  conclusion_score float\n  coherence_score float\n  transition_score float\n}\n\nclass EssaySubmission {\n  essay_text string?\n  essay_image image?\n  question_prompt string\n  grading_criteria string[]\n  user_id string\n  submission_time string\n}\n\n// Grading criteria definitions\nclass GradingCriteria {\n  name string\n  description string\n  weight float @description(\"Weight for this criteria in overall score\")\n}\n\n// Function to grade essay based on text input\nfunction GradeEssayText(essay: EssaySubmission, criteria: GradingCriteria[]) -> EssayGrade {\n  client \"QWen3\"\n  prompt #\"\n  {{_.role('system')}}\n  You are an expert English writing instructor with extensive experience in academic essay grading. You provide detailed, constructive feedback to help students improve their writing skills.\n\n  {{_.role('user')}}\n  ---TASK---\n  Grade the following English essay based on the provided criteria. Be thorough, fair, and provide actionable feedback.\n\n  ---ESSAY QUESTION---\n  {{ essay.question_prompt }}\n\n  ---STUDENT ESSAY---\n  {{ essay.essay_text }}\n\n  ---GRADING CRITERIA---\n  {% for criterion in criteria %}\n  - {{ criterion.name }} (Weight: {{ criterion.weight }}%): {{ criterion.description }}\n  {% endfor %}\n\n  ---GRADING INSTRUCTIONS---\n  1. Provide an overall score from 0-100\n  2. Score each criterion separately with detailed feedback\n  3. Identify specific grammar errors with corrections\n  4. Suggest vocabulary improvements\n  5. Analyze essay structure (introduction, body, conclusion)\n  6. Provide 3-5 specific improvement suggestions\n\n  ---OUTPUT FORMAT---\n  {{ ctx.output_format }}\n  \"#\n}\n\n// Function to grade essay based on image input\nfunction GradeEssayImage(essay: EssaySubmission, criteria: GradingCriteria[]) -> EssayGrade {\n  client \"QWen3\"\n  prompt #\"\n  {{_.role('system')}}\n  You are an expert English writing instructor with extensive experience in academic essay grading. You can analyze handwritten or typed essays from images and provide detailed, constructive feedback.\n\n  {{_.role('user')}}\n  ---TASK---\n  Analyze the essay image and grade it based on the provided criteria. Extract the text accurately and provide comprehensive feedback.\n\n  ---ESSAY QUESTION---\n  {{ essay.question_prompt }}\n\n  ---ESSAY IMAGE---\n  {{ essay.essay_image }}\n\n  ---GRADING CRITERIA---\n  {% for criterion in criteria %}\n  - {{ criterion.name }} (Weight: {{ criterion.weight }}%): {{ criterion.description }}\n  {% endfor %}\n\n  ---GRADING INSTRUCTIONS---\n  1. First, accurately extract all text from the image\n  2. Provide an overall score from 0-100\n  3. Score each criterion separately with detailed feedback\n  4. Identify specific grammar errors with corrections\n  5. Suggest vocabulary improvements\n  6. Analyze essay structure (introduction, body, conclusion)\n  7. Provide 3-5 specific improvement suggestions\n\n  ---OUTPUT FORMAT---\n  {{ ctx.output_format }}\n  \"#\n}\n\n// Predefined grading criteria sets\nfunction GetGradingCriteriaSet(criteria_type: string) -> GradingCriteria[] {\n  client \"GLM4Flash\"\n  prompt #\"\n  {{_.role('system')}}\n  You are an expert in academic writing assessment. Provide comprehensive grading criteria sets for English essays.\n\n  {{_.role('user')}}\n  ---CRITERIA TYPE---\n  {{ criteria_type }}\n\n  ---AVAILABLE CRITERIA TYPES---\n  - academic: University-level academic essay criteria\n  - ielts: IELTS writing task 2 criteria\n  - toefl: TOEFL independent writing criteria\n  - general: General English writing criteria\n  - business: Business English writing criteria\n\n  ---OUTPUT---\n  Return a list of 4-6 grading criteria with appropriate weights that sum to 100%. Each should have:\n  - name: Clear criterion name\n  - description: Detailed description of what this criterion assesses\n  - weight: Percentage weight (must sum to 100% across all criteria)\n\n  {{ ctx.output_format }}\n  \"#\n}\n\ntest TestGradeEssayText {\n  functions [GradeEssayText]\n  args {\n    essay {\n      essay_text \"Technology has become an integral part of our daily lives. In my opinion, while technology offers numerous benefits, it also presents significant challenges that we must address. First, technology has greatly improved communication. People can now connect with others across the globe instantly through various platforms. Second, technology has enhanced educational opportunities. Students can access vast amounts of information and learn at their own pace. However, technology also has negative effects. Many people spend excessive time on social media, which can lead to decreased productivity and mental health issues. Additionally, the over-reliance on technology may reduce face-to-face interactions. In conclusion, technology is a double-edged sword that requires balanced usage.\"\n      question_prompt \"Discuss the impact of technology on modern society.\"\n      grading_criteria [\"academic\"]\n      user_id \"test_user\"\n      submission_time \"2025-07-16T14:30:00Z\"\n    }\n    criteria [\n      {\n        name \"Content and Ideas\"\n        description \"Quality of arguments, depth of analysis, relevance to topic\"\n        weight 30\n      },\n      {\n        name \"Organization and Structure\"\n        description \"Logical flow, paragraph structure, transitions\"\n        weight 25\n      },\n      {\n        name \"Language Use\"\n        description \"Vocabulary range, sentence variety, tone\"\n        weight 25\n      },\n      {\n        name \"Grammar and Mechanics\"\n        description \"Grammar accuracy, punctuation, spelling\"\n        weight 20\n      }\n    ]\n  }\n}\n\ntest TestGetGradingCriteriaSet {\n  functions [GetGradingCriteriaSet]\n  args {\n    criteria_type \"ielts\"\n  }\n}",
  "extract_related_documents.baml": "class Related_documents {\n    docIndex string[]\n}\n\nfunction Extract_related_documents(quiz_content:string, documents: string[]) -> Related_documents {\n    client \"GLM4Flash\"\n    prompt #\"\n        {{_.role('system')}}\n        You are a helpful medical study assistant that extracts related documents from a given text.\n\n        {{_.role('user')}}\n        ---instruction---\n        1. Given a quiz and its explanation, you should firstly analysis it carefully. \n        2. According to the quiz and its explanation, you should find the related documents.\n        3. extract the related documents. If the doucments is strongly related to the text, put its index into the response\n        \n        ---input---\n        # Quiz: \n        {{ quiz_content }}\n        # Documents:\n        {% for doc in documents %}\n        ## DOC {{loop.index}} \n        {{ doc }}\n\n        {% endfor %}\n        ---output---\n        {{ ctx.output_format }}\n    \"#\n}\n\ntest TestName {\n  functions [Extract_related_documents]\n  args {\n    quiz_content #\"\n    # Quiz: \n    2009N41A 下列选项中，不符合萎缩特点的是\n    A: A.自噬小体增多\n    B: B.器官均匀性缩小\n    C: C.器官功能低下\n    D: D.细胞核固缩\n    # Answer: D\n    # explanation:\n    萎缩是指已发育正常的细胞、组织或器官的体积均匀性缩小，伴有功能下降，是细胞适应的一种类型。萎缩细胞电镜下见细胞器减少（A对）、退化，可伴有实质细胞数量的减少（C错），自噬小体增多（D错），心肌细胞和肝细胞等萎缩细胞胞质中出现脂褐素（B错）。萎缩的本质在于细胞为了适应不利的环境条件，通过减少细胞器数量来降低自身的代谢活动和能量需求。这包括线粒体、内质网、高尔基体等细胞器的减少，这样的变化有助于细胞在资源有限的情况下维持生存，是萎缩过程中的一种典型特征。\n    \"#\n    documents [\n      #\"\n        病理性萎缩（pathological atrophy） 按其发生原因分为如下几种类型。 （1）营养不良性萎缩（atrophy due to inadequate nutrition）：可由蛋白质摄入不足、消耗过多和血液 供应不足引起，分为如下两种类型。 1）全身营养不良性萎缩：如糖尿病、结核病及肿瘤等慢性消耗性疾病时，长期营养不良引起全身 肌肉萎缩，称为恶病质。 2）局部营养不良性萎缩：如脑动脉粥样硬化后，血管壁增厚、管腔变窄，脑组织缺乏足够血液供 应引起脑萎缩。 萎缩的细胞、组织和器官通过调节细胞体积、数量和功能，以适应降低的血液供应和 营养补给。 （2） 压 迫 性 萎 缩（atrophy due to pressure）： 为组织与器官长期受压所致，其机制是受压组 织和细胞缺氧、缺血。 例如肝、脑、肺肿瘤推挤 压迫，可致邻近正常组织萎缩；尿路梗阻时肾盂 积水，压迫周围肾组织，引起肾皮质、髓质萎缩 （图 1-2）；右心功能不全时，肝小叶中央静脉及 其周围血窦淤血，也会导致邻近肝细胞受压而 萎缩。 （3） 失 用 性 萎 缩（atrophy due to decreased workload）：可由器官、组织长期工作负荷减少和 功能代谢低下所致，如四肢骨折后久卧不动，可 引起患肢肌肉萎缩和骨质疏松。 随着肢体重新 正常活动，相应骨骼肌细胞会恢复正常大小和 图 1-2 肾压迫性萎缩 肾盂积水、 扩张，肾实质受压萎缩。\n      \"#,\n      #\"\n        功能。 （4）去神经性萎缩（atrophy due to loss of the innervation）：因运动神经元或轴突损害引起效应器萎 缩，如脑或脊髓神经损伤可致肌肉萎缩。 其机制是神经对肌肉的运动调节丧失，加之活动减少和骨骼 肌细胞分解代谢加速。 （5）内分泌性萎缩（atrophy due to loss of endocrine stimulation） ：内分泌腺功能下降引起靶器官细 胞萎缩，如下丘脑 - 腺垂体缺血坏死等，可引起促肾上腺皮质激素释放减少，导致肾上腺皮质萎缩；垂 体前叶功能减退时，甲状腺、肾上腺和性腺等都可萎缩。 此外，肿瘤细胞也会发生萎缩，如给予雌激素 治疗，前列腺癌细胞可以萎缩。 （6）老化和损伤性萎缩（atrophy due to aging and injury）：神经细胞和心肌细胞的萎缩，是大脑和 心脏发生老化的主要改变。 此外，病毒和细菌引起的慢性炎症，也是细胞、组织或器官萎缩的常见原 因，如慢性胃炎时胃黏膜萎缩和慢性肠炎时小肠黏膜绒毛萎缩。 细胞凋亡也可引起组织、器官萎缩， 如阿尔茨海默病（Alzheimer disease，AD）的大脑萎缩，就是大量神经细胞凋亡所致。 临床上，某种萎缩可由多种因素所致。\n      \"#,\n      #\"\n        因此，细胞和组织的适应性反应能够发生在以下任何一个环节，如基因表达及其调 控，与受体结合的信号转导，蛋白质的翻译、运送和输出等。 适应实质上是细胞生长和分化受到调整的结果，可以认为它们是介于正常与损伤之间的一种状 态。 细胞通过一系列适应性改变，在内外环境变化中达到代谢、功能和形态结构上新的平衡。 一般而 言，病因去除后，大多数适应细胞可逐步恢复正常。 一、萎缩 萎缩（atrophy）是指已发育正常的细胞、组织或器官的体积缩小。 萎缩时细胞合成代谢降低，能 量需求减少，原有功能下降。 组织与器官的萎缩，除实质细胞内物质丧失而致体积缩小外，还可以伴 有实质细胞数量的减少。 组织、器官的未曾发育或发育不全不属于萎缩范畴。 （一）萎缩的类型 萎缩分为生理性萎缩和病理性萎缩两类。 1. 生理性萎缩（physiological atrophy） 见于胸腺青春期萎缩和生殖系统中卵巢和子宫更年期后 5 第一章 细胞和组织的适应与损伤 萎缩及老年睾丸萎缩等。 大部分生理性萎缩时细胞数量的减少是通过细胞凋亡实现的。\n      \"#,\n      #\"\n        如骨折后肌肉的萎缩，就可能是神经性、营养性、失用性， 甚至是压迫性（在用石膏固定过紧时）等诸因素共同作用的结果；而心、脑等的老年性萎缩，则兼有生 理性萎缩和病理性萎缩性质。 （二）萎缩的病理变化 萎缩的细胞、组织和器官体积减小，重量减轻，色泽变深。 心肌细胞和肝细胞等萎缩细胞胞质内 可出现脂褐素颗粒。 脂褐素是细胞内未被彻底消化的、富含磷脂的膜包被的细胞器残体。 萎缩细胞 蛋白质合成减少、分解增加，细胞器大量退化。 萎缩细胞、组织和器官的功能大多下降，并通过减少细 胞体积、数量和降低功能代谢，使之与营养、激素、生长因子的刺激及神经递质的调节之间达成新的平 衡。 去除病因后，轻度病理性萎缩的细胞有可能恢复常态，但持续性萎缩的细胞最终可死亡（凋亡）。 6 第一章 细胞和组织的适应与损伤 二、肥大 由于功能增加、合成代谢旺盛，细胞、组织或器官体积增大，称为肥大（hypertrophy）。 组织和器官 的肥大通常是由实质细胞的体积增大所致，但也可伴有实质细胞数量的增加。 （一）肥大的类型 依据性质，肥大可分为生理性肥大和病理性肥大两种。\n      \"#\n    ]\n  }\n}\n",
  "generators.baml": "// This helps use auto generate libraries you can use in the language of\n// your choice. You can have multiple generators if you use multiple languages.\n// Just ensure that the output_dir is different for each generator.\ngenerator target {\n    // Valid values: \"python/pydantic\", \"typescript\", \"ruby/sorbet\", \"rest/openapi\"\n    output_type \"typescript\"\n\n    // Where the generated code will be saved (relative to baml_src/)\n    output_dir \"../src\"\n\n    // The version of the BAML package you have installed (e.g. same version as your baml-py or @boundaryml/baml).\n    // The BAML VSCode extension version should also match this version.\n    version \"0.210.0\"\n\n    // Valid values: \"sync\", \"async\"\n    // This controls what `b.FunctionName()` will be (sync or async).\n    default_client_mode async\n}\n",
  "quiz_agnet/task_planning.baml": "class Task {\n  task_name string\n  task_description string\n  task_example_user_query string[]\n}\n\n\nclass Decision {\n  response string\n  selected_task string @description(#\"\n    必须为传入tasks中的一个，**必须与所给task的task_name一致**\n  \"#)\n}\n\nfunction PlanNextStep(user_query:string, tasks_avaliable: Task[]) -> Decision {\n    client \"GLM4Plus\"\n    prompt #\"\n        {{_.role(\"system\")}}\n        You are a task planner to decide what to do in next step accroding to the given query.\n\n        仔细分析可用任务，根据用户的请求选出最佳的一个任务\n        ---step---\n        1. Carefully analysis user's query, find out the most helpful task for user.\n        2. 在`response`中给出你的下一步计划\n        3. 严格输出task_name，不要输出编号等其它任何内容\n\n        ---avalibale tasks---\n        {% for task in tasks_avaliable %}\n        - Option {{loop.index}} \n            - task_name: {{task.task_name}}\n            - task_description: {{task.task_description}}\n            - task_example_user_query: {{task.task_example_user_query}}\n        {% endfor %}\n\n        {{_.role(\"user\")}}\n        ---user query---\n        {{user_query}}\n\n        ---output---\n        {{ctx.output_format}}\n        \n\n    \"#\n}\n",
  "quiz_analysis/annotate_class.baml": "\n\nfunction AnnotateClass(quiz_content:string) -> \"生理学\" | \"病理学\" | \"生物化学\" | \"内科学\" | \"外科学\" {\n    client GLM4Plus\n    prompt #\"\n        {{_.role(\"user\")}}\n\n        请你根据传入试题的内容，判断试题所归属的考察科目。\n        科目必须是 \"生理学\" | \"病理学\" | \"生物化学\" | \"内科学\" | \"外科学\" 其中的一个。\n\n        ---试题---\n        {{quiz_content}}\n        ---\n        {{ ctx.output_format }}\n    \"#\n}",
  "quiz_analysis/evaluate_document_sufficiency.baml": "class DocumentEvaluation {\n    sufficient bool @description(#\"\n        Whether the retrieved documents provide sufficient information\n        to explain all key knowledge points in the quiz\n    \"#)\n    explanation string @description(#\"\n        Explanation of why the documents are sufficient or not,\n        including any gaps in coverage\n    \"#)\n\n    missed_knowledge_point KnowledgePoints[]\n}\n\nfunction EvaluateDocumentSufficiency(\n    quiz_content: string,\n    documents: RetrievedDocument[]\n) -> DocumentEvaluation {\n    client \"GLM4Flash\"\n    prompt #\"\n    {{_.role('system')}}\n    你是一名医学教育专家助手，负责评估检索到的文档是否足以解释给定的医学试题并给出缺少的知识点。请严格按照以下标准进行评估：\n\n    {{_.role('user')}}\n    ---评估标准---\n    1. 文档必须覆盖试题解析所需的所有核心知识点\n    2. 每个知识点应有至少一个文档提供详细解释\n    3. 文档内容应准确、权威且与知识点直接相关\n    4. 如果存在以下情况则认为文档不足：\n       - 关键知识点无对应文档解释\n       - 文档内容过于简略或模糊\n       - 文档之间存在矛盾信息\n\n    ---试题内容---\n    {{ quiz_content }}\n\n\n    ---检索文档---\n    {% for doc in documents %}\n    ### 文档 {{ loop.index }} ###\n    {{ doc.content }}\n    {% endfor %}\n\n    ---评估结果---\n    请根据上述标准评估文档是否足够，提供简要解释，并给出缺失的知识点：\n    {{ ctx.output_format }}\n    \"#\n}\n\ntest TestEvaluateDocumentSufficiency {\n    functions [EvaluateDocumentSufficiency]\n    args {\n        quiz_content #\"\n            2009N41A 下列选项中，不符合萎缩特点的是\n            A: A.自噬小体增多\n            B: B.器官均匀性缩小\n            C: C.器官功能低下\n            D: D.细胞核固缩\n            Answer: D\n        \"#\n        documents [\n            #\"\n                萎缩是指已发育正常的细胞、组织或器官的体积缩小。\n                萎缩时细胞合成代谢降低，能量需求减少，原有功能下降。\n            \"#,\n            #\"\n                自噬小体是细胞在营养缺乏时形成的结构，用于降解自身成分\n                为细胞提供能量，在萎缩过程中自噬小体数量会增加。\n            \"#\n        ]\n    }\n}",
  "quiz_analysis/reranker.baml": "// Define a class for the input documents to the reranker\nclass DocumentToRerank {\n    content string\n    metadata string // Assuming metadata is relevant for reranking\n}\n\n// Define the function for reranking\n// Returns a list of document indices (as strings) in order of relevance\nfunction RerankDocuments(query: string, documents: DocumentToRerank[]) -> int[] {\n    client \"GLM4Flash\" // Using GLM4Flash as an example client\n    prompt #\"\n    {{_.role('system')}}\n    You are a helpful assistant that filters and reranks medical documents based on their relevance to a given medical query.\n\n    {{_.role('user')}}\n    ---instruction---\n    Given a medical query and a list of medical documents, evaluate the relevance of each document to the query.\n    **Identify the documents that are relevant to the query.**\n    **Output only the indices of the relevant documents, ordered from most relevant to least relevant.**\n    Exclude the indices of any documents that are not relevant.\n    The indices correspond to the numbering in the \"---documents---\" section (e.g., 1, 2, etc.).\n\n    ---query---\n    {{ query }}\n\n    ---documents---\n    {% for document in documents %}\n    ## Document {{ loop.index }}\n    {{ document.content }}\n    {% endfor %}\n\n    ---relevant document indices (ordered by relevance)---\n    {{ ctx.output_format }}\n    \"#\n}\n\n// Add a test case (placeholder)\ntest TestRerankDocuments {\n  functions [RerankDocuments]\n  args {\n    query #\"Sample query for reranking.\"#\n    documents [\n      {\n        content #\"Document content 1 relevant to query\"#\n        metadata #\"Metadata 1\"#\n      },\n      {\n        content #\"Document content 2 not relevant\"#\n        metadata #\"Metadata 2\"#\n      },\n      {\n        content #\"Document content 3 also relevant, but less than doc 1\"#\n        metadata #\"Metadata 3\"#\n      }\n    ]\n  }\n}",
  "quiz_analysis/retrieved_chunk_filter.baml": "function FilterRelatedChunks(quiz_content: string, documents: RetrievedDocument[]) -> int[] {\n    client \"GLM4Flash\"\n    prompt #\"\n        {{_.role('system')}}\n        You are a helpful medical study assistant that filters relevant documents based on a given quiz.\n\n        {{_.role('user')}}\n        ---instruction---\n        1. Given a medical quiz and a list of documents, analyze the quiz content carefully.\n        2. For each document, determine if it is directly relevant to answering or explaining the quiz.\n        3. Return a list of the 0-based indices of the documents that are relevant. If no documents are relevant, return an empty list.\n\n        ---quiz---\n        {{ quiz_content }}\n\n        ---documents---\n        {% for doc in documents %}\n        ## Document {{ loop.index }}\n        {{ doc.content }}\n\n        {% endfor %}\n\n        ---relevant document indices---\n        {{ ctx.output_format }}\n    \"#\n}",
  "quiz_analysis.baml": "class Explanation {\n  explanation string\n}\n\nclass RelationshipSummary {\n  summary string\n}\n\nfunction SummarizeRelationships(quiz: string, knowledgePoints: string[], chunks: string[]) -> RelationshipSummary {\n  client \"GLM4Flash\"\n  prompt #\"\n  {{_.role('system')}}\n  You are a helpful medical assistant that summarizes relationships between a medical quiz, extracted knowledge points, and relevant text chunks.\n\n  {{_.role('user')}}\n  ---instruction---\n  Given a medical quiz, a list of knowledge points extracted from the quiz, and a list of relevant text chunks, summarize the relationships between these elements. Explain how the knowledge points are related to the quiz and how the chunks support or elaborate on these knowledge points in the context of the quiz.\n\n  ---quiz---\n  {{ quiz }}\n\n  ---knowledge points---\n  {% for kp in knowledgePoints %}\n    - {{ kp }}\n  {% endfor %}\n\n  ---relevant chunks---\n  {% for chunk in chunks %}\n  - {{ chunk }}\n  {% endfor %}\n\n  ---summary---\n  {{ ctx.output_format }}\n  \"#\n}\n\nfunction GenerateExplanation(question: string, answer: string, options: string[]) -> Explanation {\n  client \"GLM4Flash\"\n  prompt #\"\n  {{_.role('system')}}\n  You are a helpful medical assistant that provides explanations for medical quiz questions.\n\n  {{_.role('user')}}\n  ---instruction---\n  Given the following medical quiz question, its options, and the correct answer, provide a concise explanation in Chinese for why the answer is correct.\n\n  ---question---\n  {{ question }}\n\n  ---options---\n  {% for option in options %}\n  {{ option }}\n  {% endfor %}\n\n  ---answer---\n  {{ answer }}\n\n  ---explanation---\n  {{ ctx.output_format }}\n  \"#\n}\n\ntest TestGenerateExplanation {\n  functions [GenerateExplanation]\n  args {\n    question #\"\n      A 45-year-old male presents with fatigue, weight gain, and cold intolerance. Lab tests show elevated TSH and low free T4. What is the most likely diagnosis?\n    \"#\n    answer #\"\n      Hypothyroidism\n    \"#\n    options [\n      #\"\n        Hyperthyroidism\n      \"#,\n      #\"\n        Hypothyroidism\n      \"#,\n      #\"\n        Addison's disease\n      \"#,\n      #\"\n        Cushing's syndrome\n      \"#\n    ]\n  }\n}\n",
  "quiz_analysis_explanation.baml": "function GenerateExplanationForAnalysis(quiz: string) -> Explanation {\n  client \"GLM4Flash\" // Assuming GLM4Flash client is still desired\n  prompt #\"\n  {{_.role('system')}}\n  You are a helpful medical education assistant that provides clear and concise explanations for medical quiz questions.\n\n  {{_.role('user')}}\n  ---instruction---\n  Given the medical quiz question, its options, and the correct answer, provide a concise explanation in Chinese for why the correct answer is correct and briefly explain why the other options are incorrect.\n\n  ---quiz---\n  {{ quiz }}\n\n=\n\n  ---explanation---\n  {{ ctx.output_format }}\n  \"#\n}\n\n// test TestGenerateExplanationForAnalysis {\n//   functions [GenerateExplanationForAnalysis]\n//   args {\n//     question #\"\n//       A sample medical quiz question?\n//     \"#\n//     answer #\"\n//       Option A\n//     \"#\n//     options [\n//       #\"Option A\"#,\n//       #\"Option B\"#,\n//       #\"Option C\"#,\n//       #\"Option D\"#\n//     ]\n//   }\n// }",
  "quiz_analysis_hyde_rewrite.baml": "function HyDE_rewriteForAnalysis(query:string, language: string ) -> HyDE_rewrite_query {\n    client \"GLM4Flash\" // Assuming GLM4Flash client is still desired\n    prompt #\"\n    {{_.role('system')}}\n    You are a helpful medical assistant that generates a hypothetical document based on a given query to aid in document retrieval.\n\n    {{_.role('user')}}\n    ---instruction---\n    Given a medical knowledge point or query, generate a comprehensive and well-structured hypothetical document in the specified language that would likely contain the answer or relevant information. This document will be used for HyDE (Hypothetical Document Embedding) retrieval.\n\n    ---query---\n    {{ query }}\n    ---language---\n    {{ language }}\n    ---hypothetical document---\n    {{ ctx.output_format }}\n    \"#\n}\n\ntest TestHyDE_rewriteForAnalysis {\n  functions [HyDE_rewriteForAnalysis]\n  args {\n    query #\"\n      高血压的治疗措施有哪些？\n    \"#\n    language #\"\n      中文\n    \"#\n  }\n}",
  "quiz_analysis_knowledge_points.baml": "function SummarizeKnowledgePointForAnalysis(quiz_content:string, quiz_explanation:string) -> KnowledgePoints[] {\n    client \"GLM4Flash\" // Assuming GLM4Flash client is still desired\n    prompt #\"\n    {{_.role('system')}}\n    你是一名医学教育专家助手，专门负责分析医学试题并提取核心知识点。请严格按照以下要求执行任务：\n\n    {{_.role('user')}}\n    ---任务说明---\n    根据提供的医学试题内容(题目和选项)及其解析，提取出解答该试题所需的核心医学知识点。这些知识点应当：\n    1. 是理解题目和得出正确答案的关键医学概念\n    2. 包含必要的定义、机制、病理生理过程或临床特征\n    3. 按照重要性排序，最重要的知识点放在前面\n    4. 每个知识点应当完整、准确且独立存在\n    5. 使用规范的医学术语，避免口语化表达\n\n    ---知识点提取标准---\n    1. 基础概念：如疾病定义、解剖结构、生理机制等\n    2. 病理机制：如发病机理、病理变化等\n    3. 临床表现：如症状、体征、分期等\n    4. 诊断依据：如实验室检查、影像学特征等\n    5. 治疗原则：如药物、手术、治疗方案等\n    6. 相关鉴别：与其他疾病的区别要点\n\n    ---试题内容---\n    {{ quiz_content }}\n\n    ---试题解析---\n    {{ quiz_explanation }}\n\n    ---输出要求---\n    请按照上述标准提取知识点，每个知识点用简洁完整的句子表述，格式如下：\n    {{ ctx.output_format }}\n    \"#\n}\n\ntest TestSummarizeKnowledgePointForAnalysis {\n  functions [SummarizeKnowledgePointForAnalysis]\n  args {\n    quiz_content #\"\n      Sample quiz content here.\n    \"#\n    quiz_explanation #\"\n      Sample explanation here.\n    \"#\n  }\n}",
  "quiz_generate/quzi_generate.baml": "class Rawquiz_A {\n    question string\n    options Option[]\n    answer string @description(#\"\n        答案必须唯一，必须为option的对应序号(如A/B/C/D)\n    \"#)\n}\n\nfunction GenerateQuizzes_single(content:string, quiz_num:int) -> Rawquiz_A[] {\n    client GLM4Flash\n    prompt #\"\n        {{_.role('user')}}\n        根据传入的知识笔记生成{{quiz_num}}道单选题\n        \n        ---参考笔记---\n        {{content}}\n\n        ---output---\n        {{ctx.output_format}}\n    \"#\n}\n\ntest TestName {\n  functions [GenerateQuizzes_single]\n  args {\n    content #\"\n      title: R-S细胞的类型\n- 典型R-S细胞/[[镜影细胞]]/多核瘤巨细胞`三大一红无分裂`\n\t- **双**核\n\t- 核**大**呈**空泡**状\n\t- 核仁**明显**呈**红**色，伴**周围空晕**\n\t- 嗜**双**性\n\t- **无**核分裂象\n- 不典型RS细胞\n\t- [[霍奇金细胞]]（**单**核）\n- 变异的RS细胞\n\t- [[陷窝细胞]]\n\t- [[爆米花细胞]]\n\t- [[木乃伊细胞]]\n\n    \"#\n    quiz_num 3\n  }\n}\n",
  "quiz_mutation.baml": "class MutatedQuiz {\n    question string\n    options Option[]\n    answer string[] @description(#\"\n        The correct answer to the quiz.\n        This is the index of the correct option in the list of options.\n        It must be a aplphabetic character (A, B, C, D, etc.).\n        exmaple: \n        - multiple seletion quiz: [\"A\", \"B\", \"C\"]\n        - single selection quiz: [\"B\"]\n    \"#)\n    explanation string @description(#\"\n        The explanation of the answer.\n        This is the text that will be displayed to the user after they answer the quiz.\n    \"#)\n}\n\nclass Option {\n    index string @description(#\"\n        The index of the option in the list of options.\n        It must be a aplphabetic character (A, B, C, D, etc.).\n        This is used to identify the option in the quiz.\n    \"#)\n    content string @description(#\"\n        The text of the option.\n        This is the text that will be displayed to the user.\n    \"#)\n}\n\nfunction GenerateQuizVarient(origin_quiz:string, related_chunks: string[], similar_quizes: string[]) -> MutatedQuiz {\n    client \"GLM4Flash\"\n    prompt #\"\n    {{_.role('system')}}\n    You are a helpful medical education assistant make a variant of a given quiz based on the given information.\n\n    ---instruction---\n    The quiz is a single/multiple choice question with 4~5 options.\n    You can fuse multiple similar quizes together to create a new quiz.\n    You must adjust the question and options strictly based on the given documents, and avoid duplicated with similar quizes.\n    You must try best to avoid similarity with the original quiz.\n\n    ---step---\n    1. Read the original quiz and the related documents, and the similar quizes.\n    2. 通过融合多个相似试题生成新的问题，严谨的替换原有问题\n    3. 对原有的干扰选项，重新生成新的选项：结合相关文档与试题，调整原有的干扰选项，使其更具有迷惑性\n    4. 对原有的正确选项，保持选项内容不变，仅调整语言表述\n\n    {{_.role('user')}}\n\n    ---origin_quiz---\n    {{origin_quiz}}\n    \n    ---related_chunks---\n    {% for chunk in related_chunks %}\n    {{ loop.index }}. {{ chunk }}\n    {% endfor %}\n\n    ---similar_quizes---\n    {% for quiz in similar_quizes %}\n    ## similr quiz{{ loop.index }}\n    {{ quiz }}\n    {% endfor %}\n\n    ---output---\n    {{ctx.output_format}}\n    \"#\n\n}\n\n\ntest TestName {\n  functions [GenerateQuizVarient]\n  args {\n    origin_quiz #\"\n      hello world\n    \"#\n    related_chunks [\n      #\"\n        hello world\n      \"#,\n      #\"\n        hello world\n      \"#\n    ]\n    similar_quizes [\n      #\"\n        hello world\n      \"#,\n      #\"\n        hello world\n      \"#\n    ]\n  }\n}\n",
  "quiz_process/quiz_process.baml": "class HyDE_query {\n    quesiont string\n    HyDE_content string\n}\n\nfunction GenerateQuizQuery(questionType: string, question: string, options: string[], answer: string ,explanation: string) -> HyDE_query[] {\n    client \"GLM4Flash\"\n    prompt #\"\n        {{_.role(\"system\")}}\n        ## 任务\n        你是一个医学检索式生成助手。\n        你的任务是将传入的选择题转化为一组符合所给格式的检索语句，用于通过向量检索匹配对应的参考文本以准确回答题目。\n\n        ## 步骤\n        根据以下步骤来生成检索式：\n        1. 仔细分析试题的内容，结合答案与解析重复了解题目的解题思路\n        2. 分析试题的问题，推断试题所考察的知识点（即为了解决这道题，需要哪些信息）\n        3. 逐选项分析，明确错误选项的错误原因，推断错误选项所对应的其他知识点\n        4. 整理所有的知识点，基于你现有的知识进行初步回答\n        5. 按照要求的格式输出知识点与对应的初步回答结果\n\n        {{_.role(\"user\")}}\n        ## 试题\n        - 试题类型：{{questionType}}\n        - 问题：{{question}}\n        _ 选项： \n            {% for opt in options %}\n            - {{opt}}\n            {% endfor %}\n        - 标准答案：{{answer}}\n        - 标准解析：{{explanation}}\n\n        ## 输出\n        {{ctx.output_format}}\n\n\n\n    \"#\n}",
  "rag_generation.baml": "class RetrievedDocument {\n  title string?\n  page_num string?\n  content string\n  metadata string // Assuming metadata is a string, adjust if needed\n}\n\nfunction GenerateAnswer(history: string[]?, query: string, documents: RetrievedDocument[], language: string) -> string {\n  client QWen3 // Using GLM4Flash as an example client /OpenrouterQWEN3/GLM4Flash\n  prompt #\"\n  {{_.role('system')}}\n  You are a helpful assistant that answers questions in \"{{language}}\" language based on the provided documents.\n\n  {{_.role('user')}}\n  ---instruction---\n  Answer the following question based on the provided documents.\n  If the documents do not contain enough information to answer the question, say \"I don't have enough information to answer this question based on the provided documents.\"\n  If the documents contain conflicting information, say \"The documents contain conflicting information.\"\n  If the documents contain information that is not relevant to the question, ignore that information.\n  Summarize the relevant information from the documents to answer the question. Make full use of the information in the documents.\n  Provide a clear and concise answer to the question. Prefer to use table/list format if applicable.\n  Annotate the answer with the document index at the format given below to support your answer.\n  When book title and page number are available in the document, you SHOULD include them.\n  Meanwhile, use the standard [ref:<index>] format\n  \n\n  ---example---\n    # query\n    What is the capital of France?\n\n    # documents\n    [ref:1] \n    France is a country located in Western Europe. Its capital city is Paris, which is also the most populous city in the country.\n\n    [ref:2]\n    The Eiffel Tower, one of the most famous landmarks in the world, is located in Paris.\n\n    [ref:3]\n    Paris is known for its art, fashion, and culture. It is home to the Louvre Museum, which is the world's largest art museum.\n\n    # answer\n    Paris is the capital of France [ref:1]\n\n  ---REAL CONTENT---\n    # History\n    {% for record in history %}\n    - {{record}} \n    {% endfor %}\n\n    # Current Query\n    {{ query }}\n\n    # Documents\n    {% for document in documents %}\n    ###################\n    ### [ref:{{ loop.index }}] 【{{document.title}}|page {{document.page_num}}】###\n    ###################\n    {{ document.content }}\n\n\n    ---\n\n\n    {% endfor %}\n\n    # answer\n    {{ ctx.output_format }}\n  \"#\n}\n\n\n\ntest TestBaselineRAGGeneration {\n  functions [GenerateAnswer]\n  args {\n    query #\"\n      hello world\n    \"#\n    language #\"\n      hello world\n    \"#\n    documents []\n  }\n}\n",
  "summarize_knowledge_points.baml": "class KnowledgePoints {\n    knowledgePoint string @description(#\"\n        知识点的名称，它通常是一个医学领域实体的属性\n    \"#)\n    description string @description(#\"\n        知识点的描述\n    \"#)\n}\n\nfunction SummarizeKnowledgePoint(quiz_content:string, quiz_explanation:string) -> KnowledgePoints[] {\n    client \"GLM4Flash\"\n    prompt #\"\n    {{_.role('system')}}\n    You are a medical education assistant. Your task is to analyze a medical quiz question and its explanation to identify the key knowledge points required to understand the question and arrive at the correct answer.\n\n    {{_.role('user')}}\n    ---instruction---\n    Given the medical quiz content (question and options) and the provided explanation, extract the essential medical knowledge points. These knowledge points should be fundamental concepts, definitions, or relationships that are directly relevant to the quiz and its explanation. \n    List these knowledge points in Chinese.\n    You should only extract the key knowledge points.\n\n    ---quiz content---\n    {{ quiz_content }}\n\n    ---explanation---\n    {{ quiz_explanation }}\n\n    ---knowledge points---\n    {{ ctx.output_format }}\n    \"#\n}\n\ntest TestSummarizeKnowledgePoint {\n  functions [SummarizeKnowledgePoint]\n  args {\n    quiz_content #\"\n      2020U3-55 用阈下刺激即可诱发心肌细胞产生期前收缩的兴奋性周期时相是\n        A. A. 绝对不应期\n        B. B. 相对不应期\n        C. C. 低常期\n        D. D. 局部反应期\n        E. E. 超常期\n      Answer: E\n    \"#\n    quiz_explanation #\"\n    9版生理学P43）<img>“相对不应期过后，有的细胞还会出现兴奋性轻度增高的时期，此期称为超常期。此时电压门控钠（或钙）通道已基本复活，但膜电位尚未完全回到静息电位，距离阈电位水平较近，因而只需阈下刺激就能使膜去极化达到阈电位而再次兴奋”（E对）。\n      由于离子通道已基本复活，但膜电位尚未完全恢复静息电位，给予阈下刺激就能使膜去极化达到阈电位而再次兴奋的时相即为超常期（E对）。绝对不应期（A错） 是指兴奋发生过程中离子通道完全关闭，无论给予何种刺激，都不能诱发心肌细胞产生新的兴奋。相对不应期（B错）是指绝对不应期后，兴奋逐渐恢复，离子通道部分开放，需给予大于原来阈值的刺激强度才可以发生兴奋。低常期（C错）是指超常期后细胞出现的兴奋性轻度降低的时期，需要阈上刺激才可以弓|起再次兴奋。局部反应期（D错）是指阈下刺激不引起细胞或者组织产生动作电位，但它可以引起受刺激的膜局部出现一个较小的膜的去极化反应。\n    \"#\n  }\n}\n\n",
  "translation_correction.baml": "class TranslationCorrection {\n  score int @description(#\"\n    between 0~10\n  \"#)\n  correction string \n  suggestions string\n  grammar_teach string\n  fullTrans string\n}\n\nfunction CorrectTranslation(original: string, translation: string, context: string) -> TranslationCorrection {\n  client \"QWen3\"\n  prompt #\"\n  {{_.role('system')}}\n  You are a helpful language tutor that provides corrections and suggestions for English-Chinese translations.\n\n  {{_.role('user')}}\n  ---instruction---\n  Given an original English sentence and a student's Chinese translation, provide:\n  1. A detailed correction pointing out any errors\n  2. Suggested improvements\n  3. Explain the key grammars as detailed as possible\n  4. Provide standard translation, pay attention to bind the context\n  5. Use 中文 as responsing language\n\n  ---original---\n  {{ original }}\n\n  ---translation---\n  {{ translation }}\n\n  ---context---\n  {{context}}\n\n  ---correction---\n  {{ ctx.output_format }}\n  \"#\n}\n\n",
}
export const getBamlFiles = () => {
    return fileMap;
}