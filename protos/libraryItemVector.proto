syntax = "proto3";

package libraryItemVector;

// Library Item Vector service definition
service LibraryItemVectorService {
  // Create a new chunk embedding group
  rpc CreateChunkEmbedGroup(CreateChunkEmbedGroupRequest) returns (CreateChunkEmbedGroupResponse);
}

// Chunking configuration
message ChunkingConfig {
  string strategy = 1; // e.g., 'h1', 'paragraph', 'semantic'
  map<string, string> parameters = 2; // Strategy-specific parameters
}

// Embedding configuration
message EmbeddingConfig {
  string provider = 1; // e.g., 'openai', 'cohere', 'local'
  string model = 2; // e.g., 'text-embedding-ada-002'
  int32 dimension = 3; // Vector dimension
  map<string, string> parameters = 4; // Provider-specific parameters
}

// Request to create a new chunk embedding group
message CreateChunkEmbedGroupRequest {
  string name = 1;
  string description = 2;
  ChunkingConfig chunking_config = 3;
  EmbeddingConfig embedding_config = 4;
  bool is_default = 5;
  bool is_active = 6;
  string created_by = 7;
  repeated string tags = 8;
}

// Response containing the created chunk embedding group
message CreateChunkEmbedGroupResponse {
  ChunkEmbedGroupMetadata group = 1;
}

// Chunk embedding group metadata
message ChunkEmbedGroupMetadata {
  string id = 1;
  string name = 2;
  string description = 3;
  ChunkingConfig chunking_config = 4;
  EmbeddingConfig embedding_config = 5;
  bool is_default = 6;
  bool is_active = 7;
  int64 created_at = 8;
  int64 updated_at = 9;
  string created_by = 10;
  repeated string tags = 11;
}
